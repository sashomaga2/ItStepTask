@model IList<ItStepTask.Web.Areas.Admin.ViewModels.OrderViewModel>

@using (Ajax.BeginForm("Edit", "Orders", FormMethod.Post, new AjaxOptions { HttpMethod = "POST", InsertionMode = InsertionMode.Replace, UpdateTargetId = "editForm" }))
{
    @Html.AntiForgeryToken()

    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model[0].Image)
            </th>
            <th>
                @Html.DisplayNameFor(model => model[0].Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model[0].Price)
            </th>
            <th>
                @Html.DisplayNameFor(model => model[0].Quantity)
            </th>
            <th>
                @Html.DisplayNameFor(model => model[0].OrderAmount)
            </th>
            <th>
                @Html.DisplayNameFor(model => model[0].Total)
            </th>
            <th>
                @Html.DisplayNameFor(model => model[0].CustomerNumber)
            </th>
            <th>
                @Html.DisplayNameFor(model => model[0].CustomerEmail)
            </th>
            <th></th>
        </tr>

        @for (var i = 0; i < Model.Count; i++)
        {
            <tr>
                @Html.HiddenFor(modelItem => Model[i].Id) 
                @Html.HiddenFor(modelItem => Model[i].LastStatusSelected, new { @class = "order-last-selected" })
                <td>
                    @{
                        var imgSrc = String.Format("data:image/png;base64,{0}", Model[i].Image);
                    }

                    <img src="@imgSrc" class="item-image" />
                </td>
                <td>
                    @Html.DisplayFor(modelItem => Model[i].Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => Model[i].Price)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => Model[i].Quantity)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => Model[i].OrderAmount)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => Model[i].Total)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => Model[i].CustomerNumber)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => Model[i].CustomerEmail)
                </td>
                <td>
                    <div class="form-group">
                        <div class="col-md-10">
                            @Html.EnumDropDownListFor(modelItem => Model[i].StatusId, null, new { @class = "form-control order-status" })
                        </div>
                    </div>
                </td>
            </tr>
    }

    </table>

    <div class="container pull-right">
        <input type="submit" id="orderStatusEdit" class="btn btn-success" />
    </div>
}



